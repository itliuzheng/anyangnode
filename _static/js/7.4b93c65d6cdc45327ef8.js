webpackJsonp([7],{"19+H":function(t,e){},"M/+Z":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("oTFt"),a("9GaO"),a("v/ij");var n=a("aiqZ"),o=a("auNG"),i=a("P9l9"),r={name:"addTutorial",components:{quillEditor:n.quillEditor},data:function(){return{noticeId:null,formData:{title:null,isTop:!1,description:null,content:null},formRules:{title:[{required:!0,message:"不能为空",trigger:"blur"}]},fileList:[],dialogFormVisibleDetail:!0,editorOption:{theme:"bubble",placeholder:"every contentï¼support html",modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image"],["clean"]]}}}},created:function(){this.$route.query.id&&(this.noticeId=this.$route.query.id,this.getById())},methods:{uploadHttp:function(t){var e=this,a=new FormData;a.append("img",t.file),Object(i.c)(a).then(function(t){e.$message({type:"success",message:"上传成功"}),e.formData.imgUrl=t.data})},reset:function(){this.$refs.formData.resetFields()},getById:function(){var t=this;Object(o.a)(this.noticeId).then(function(e){t.formData=e.data,t.$set(t.fileList,"0",{name:e.data.title+".png",url:e.data.imgUrl})})},confirmData:function(){var t=this;this.$refs.formData.validate(function(e){e&&Object(o.b)(t.formData).then(function(e){t.$message({type:"success",message:e.msg}),t.$router.push({name:"notice"})})})},updateData:function(){var t=this;this.$refs.formData.validate(function(e){e&&Object(o.e)(t.formData).then(function(e){t.$message({type:"success",message:e.msg}),t.$router.push({name:"notice"})})})}},computed:{}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-box"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.formRules,"label-width":"150px","label-position":"right"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("el-form-item",{attrs:{label:"是否置顶",prop:"isTop"}},[a("el-switch",{model:{value:t.formData.isTop,callback:function(e){t.$set(t.formData,"isTop",e)},expression:"formData.isTop"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:""},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("quill-editor",{attrs:{config:t.editorOption},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[t.noticeId?a("el-button",{staticClass:"el-button",attrs:{type:"primary"},on:{click:t.updateData}},[t._v("修改")]):a("el-button",{staticClass:"el-button",attrs:{type:"primary"},on:{click:t.confirmData}},[t._v("添加")]),t._v(" "),a("el-button",{staticClass:"el-button",attrs:{type:""},on:{click:t.reset}},[t._v("清空")])],1)],1)],1)],1)},staticRenderFns:[]};var l=a("C7Lr")(r,c,!1,function(t){a("YJd2"),a("19+H")},"data-v-bfacbc44",null);e.default=l.exports},YJd2:function(t,e){},auNG:function(t,e,a){"use strict";e.a=function(t){return new o.a(function(e,a){Object(i.a)({url:"/api/notice/"+t,method:"get"}).then(function(t){1==t.code?e(t):a(t)}).catch(function(t){a(t)})})},e.d=function(t){return new o.a(function(e,a){Object(i.a)({url:"/api/notice/page",method:"post",data:t}).then(function(t){1==t.code?e(t):a(t)}).catch(function(t){a(t)})})},e.b=function(t){return new o.a(function(e,a){Object(i.a)({url:"/api/notice/create",method:"post",data:t}).then(function(t){1==t.code?e(t):a(t)}).catch(function(t){a(t)})})},e.e=function(t){return new o.a(function(e,a){Object(i.a)({url:"/api/notice/update",method:"post",data:t}).then(function(t){1==t.code?e(t):a(t)}).catch(function(t){a(t)})})},e.c=function(t){return new o.a(function(e,a){Object(i.a)({url:"/api/notice/delete?id="+t,method:"post"}).then(function(t){1==t.code?e(t):a(t)}).catch(function(t){a(t)})})};var n=a("rVsN"),o=a.n(n),i=a("0zyd")}});